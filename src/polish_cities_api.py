# Polish cities' location details scraper
import json; [(fetch('https://www.otodom.pl/ajax/geo6/autosuggest/?data=' + city + '&lowPriorityStreetsSearch=true&levels%5B0%5D=REGION&levels%5B1%5D=SUBREGION&levels%5B2%5D=CITY&levels%5B3%5D=DISTRICT&levels%5B4%5D=STREET&withParents=false'), open('locations.jsonl', 'a').write(json.dumps(json.loads(response.text), indent=2) + '\n')) for city in open('cities.txt', 'r').read().split('\n')[:-1]]
